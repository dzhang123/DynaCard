package com.organization.dynacard;

import java.util.Collections;
import java.util.List;
import java.util.ArrayList;

import com.organization.dynacard.IDynaCard.CardParameters;
import com.organization.dynacard.IDynaCard.CardShape;

public class DynaCardFactory {
	
	public static CardShape getCardShape (List<CardParameters> values, double minimumAcceptableWeight) {
		
		List<Double> weights = new ArrayList<Double>();
		for (int i = 0; i < values.size(); i++) {
			weights.add(values.get(i).pumpWeight);
		}
		double maxWeight = Collections.max(weights);
		
		if (maxWeight < minimumAcceptableWeight)
			return CardShape.Flowing_Well;
		return NewCard(values).getShape();		
	}
	
	public static DynaCard NewCard(List<CardParameters> values) {
		List<Integer> pos = new ArrayList<Integer>();
		List<Double> xs = new ArrayList<Double>();
		List<Double> ys = new ArrayList<Double>();
		
		for (int i = 0; i < values.size(); i++) {
			pos.add(values.get(i).anglePositoin);
			xs.add(values.get(i).strokeDisplacement);
			ys.add(values.get(i).pumpWeight);
		}
		
		return NewCard(pos, xs, ys);
	}
	
	public static DynaCard NewCard(List<Integer> pos, List<Double> xs, List<Double> ys) {
		List<ICardEdge> edges = SplitIntoEdges(pos, xs, ys);
		
		return new DynaCard(edges.get(0), edges.get(1), edges.get(2), edges.get(3));
	}
	
	public static List<ICardEdge> SplitIntoEdges (List<Integer> pos, List<Double> xs, List<Double> ys) {
		
	}
	
}
